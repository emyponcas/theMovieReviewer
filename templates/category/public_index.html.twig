{% extends 'base.html.twig' %}

{% block stylesheets %}
    <style>

        .page-header{
            margin-bottom:30px;
        }

        .page-title{
            font-size:2rem;
            font-weight:800;
        }

        .page-subtitle{
            color:var(--text-secondary);
            margin-top:4px;
        }

        .category-card{

            background:var(--bg-card);
            border-radius:14px;
            border:1px solid var(--border-color);
            padding:18px;
            height:100%;
            display:flex;
            flex-direction:column;
            justify-content:space-between;
            transition:.2s;

        }

        .category-card:hover{

            transform:translateY(-6px);
            box-shadow:0 12px 28px rgba(0,0,0,.35);

        }

        .category-title{

            font-size:1.2rem;
            font-weight:700;
            margin-bottom:6px;

        }

        .category-description{

            font-size:.9rem;
            color:var(--text-secondary);
            margin-bottom:12px;

        }

        .category-footer{

            display:flex;
            justify-content:space-between;
            align-items:center;
            margin-top:10px;

        }

        .category-actions{

            display:flex;
            gap:6px;

        }

        .badge-movies{

            background:rgba(250,204,21,.15);
            color:var(--accent);
            border:1px solid rgba(250,204,21,.4);

        }

        .btn-category{

            font-size:.8rem;
            padding:4px 10px;
            border-radius:8px;

        }

    </style>
{% endblock %}

{% block body %}

    <div class="page-header">

        <div class="page-title">
            Categorías
        </div>

        <div class="page-subtitle">
            Valora películas y consulta estadísticas globales
        </div>

    </div>

    <div class="row g-4">

        {% for category in categories %}

            <div class="col-xl-4 col-md-6">

                <div class="category-card">

                    <div>

                        <div class="category-title">
                            {{ category.name }}
                        </div>

                        <div class="category-description">
                            {{ category.description }}
                        </div>

                    </div>

                    <div class="category-footer">

<span class="badge badge-movies">
{{ category.movies|length }} películas
</span>

                        <div class="category-actions">

                            <a href="{{ path('public_category_show', {id: category.id}) }}"
                               class="btn btn-outline-warning btn-sm btn-category">

                                Valorar

                            </a>

                            <a href="{{ path('category_leaderboard', {id: category.id}) }}"
                               class="btn btn-outline-info btn-sm btn-category">

                                Leaderboard

                            </a>

                        </div>

                    </div>

                </div>

            </div>

        {% endfor %}

    </div>

{% endblock %}